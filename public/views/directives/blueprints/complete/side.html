<svg ng-attr-width="{{defines.blueprint.width}}" ng-attr-height="{{defines.blueprint.height}}" class="blueprint"><g fill="white"><rect x="0" y="0" ng-attr-width="{{defines.blueprint.width}}" ng-attr-height="{{defines.blueprint.height}}"></rect><g transform="translate(10, 10)"><rect x="40" y="0" ng-attr-width="{{defines.blueprint.width - 60}}" ng-attr-height="{{defines.blueprint.height - 20}}"></rect><rect x="0" y="0" width="40" height="200"></rect><line x1="10" y1="0" x2="10" y2="200"></line><line x1="20" y1="0" x2="20" y2="200"></line><line x1="30" y1="0" x2="30" y2="200"></line><line x1="0" y1="50" x2="40" y2="50"></line><line x1="0" y1="100" x2="40" y2="100"></line><line x1="0" y1="150" x2="40" y2="150"></line><g transform="rotate(270 28 18)"><text x="0" y="-1">（日期）</text><text x="-50" y="-1">（签名）</text><text x="-100" y="-1">（实名）</text><text x="-150" y="-1">（专业）</text></g></g><g ng-attr-transform="translate({{defines.blueprint.width - 590}}, {{defines.blueprint.height - 90}})"><rect x="0" y="0" width="580" height="80"></rect><line x1="0" y1="20" x2="580" y2="20"></line><line x1="0" y1="40" x2="580" y2="40"></line><line x1="0" y1="60" x2="580" y2="60"></line><line x1="60" y1="0" x2="60" y2="80"></line><line x1="140" y1="20" x2="140" y2="80"></line><line x1="180" y1="20" x2="180" y2="80"></line><line x1="260" y1="0" x2="260" y2="20"></line><line x1="310" y1="0" x2="310" y2="20"></line><rect x="260" y="20" width="30" height="60" fill="white"></rect><rect x="290" y="20" width="160" height="60" fill="white"></rect><line x1="450" y1="0" x2="450" y2="20"></line><line x1="490" y1="0" x2="490" y2="80"></line><g><text x="0" y="14"><tspan x="4">设计单位</tspan><tspan x="264">工程名称</tspan><tspan x="454">阶段</tspan></text><text x="0" y="34"><tspan x="4">审定</tspan><tspan x="144">审核</tspan><tspan x="454">项目号</tspan></text><text x="0" y="54"><tspan x="4">项目负责人</tspan><tspan x="144">校对</tspan><tspan x="454">图号</tspan></text><text x="0" y="74"><tspan x="4">专业负责人</tspan><tspan x="144">设计</tspan><tspan x="454">日期</tspan></text><text x="276" y="36" letter-spacing="8" class="text-vertical">图名</text><text x="300" y="60" style="font-size: 20">{{metadata.height|letter}}-{{0|letter}} 轴立面图</text></g></g></g><g transform="translate(50, 10)"><g ng-attr-transform="translate({{(defines.blueprint.width - scaled.height - 200) / 2}}, 100)"><g transform="translate(20, 30)"><line x1="-40" ng-attr-y1="{{scaled.layer}}" ng-attr-x2="{{scaled.height + 150}}" ng-attr-y2="{{scaled.layer}}"></line><!-- 房顶--><g><line ng-attr-x1="{{-metadata.scale * 300}}" y1="0" ng-attr-x2="{{scaled.height / 2}}" ng-attr-y2="{{-metadata.scale * 500}}"></line><line ng-attr-x1="{{scaled.height / 2}}" ng-attr-y1="{{-metadata.scale * 500}}" ng-attr-x2="{{scaled.height + metadata.scale * 300}}" y2="0"></line><line ng-attr-x1="{{-metadata.scale * 300}}" ng-attr-y1="{{-metadata.scale * 100}}" ng-attr-x2="{{scaled.height / 2}}" ng-attr-y2="{{-metadata.scale * 600}}"></line><line ng-attr-x1="{{scaled.height / 2}}" ng-attr-y1="{{-metadata.scale * 600}}" ng-attr-x2="{{scaled.height + metadata.scale * 300}}" ng-attr-y2="{{-metadata.scale * 100}}"></line><line ng-attr-x1="{{-metadata.scale * 300}}" ng-attr-y1="{{-metadata.scale * 100}}" ng-attr-x2="{{-metadata.scale * 300}}" y2="0"></line><line ng-attr-x1="{{scaled.height + metadata.scale * 300}}" ng-attr-y1="{{-metadata.scale * 100}}" ng-attr-x2="{{scaled.height + metadata.scale * 300}}" y2="0"></line></g><!-- 屋檐--><g ng-attr-transform="translate({{scaled.height}}, 0)"><line x1="3" y1="0" ng-attr-x2="{{scaled.aisle_width}}" ng-attr-y2="{{metadata.scale * 200}}" class="border"></line><line x1="3" ng-attr-y1="{{metadata.scale * 200}}" ng-attr-x2="{{scaled.aisle_width}}" ng-attr-y2="{{metadata.scale * 200}}" class="border"></line></g><!-- 走廊--><g ng-if="metadata.layer &gt; 3" ng-attr-transform="translate({{scaled.height}}, {{scaled.P * 3 - scaled.aisle_height}})"><line ng-repeat="i in _.range(0, 5)" x1="4" ng-attr-y1="{{scaled.aisle_height * 0.25 * i}}" ng-attr-x2="{{scaled.aisle_width}}" ng-attr-y2="{{scaled.aisle_height * 0.25 * i}}" class="border"></line><line ng-attr-x1="{{scaled.aisle_width}}" y1="0" ng-attr-x2="{{scaled.aisle_width}}" ng-attr-y2="{{scaled.layer - scaled.P * 3 + scaled.aisle_height}}" class="border"></line></g><!-- 只有两层的楼梯--><g ng-if="metadata.options.stairs.left &amp;&amp; metadata.layer == 6" ng-attr-transform="translate({{scaled.height - scaled.stairs_height}}, {{scaled.P * 3 - scaled.aisle_height}})"><line ng-repeat="i in _.range(0, 5)" x1="0" ng-attr-y1="{{scaled.P * 3 + 0.25 * i * scaled.aisle_height}}" ng-attr-x2="{{scaled.stairs_height + 4}}" ng-attr-y2="{{0.25 * i * scaled.aisle_height}}" class="border"></line><line x1="0" ng-attr-y1="{{scaled.P * 3 + scaled.aisle_height}}" x2="0" ng-attr-y2="{{scaled.P * 3}}" class="border"></line><line ng-attr-x1="{{800 * metadata.scale}}" ng-attr-y1="{{scaled.P * 3 * 0.75 + scaled.aisle_height}}" ng-attr-x2="{{800 * metadata.scale}}" ng-attr-y2="{{scaled.P * 3 * 0.75}}" class="border"></line><line ng-attr-x1="{{1600 * metadata.scale}}" ng-attr-y1="{{scaled.P * 3 * 0.5 + scaled.aisle_height + 1}}" ng-attr-x2="{{1600 * metadata.scale}}" ng-attr-y2="{{scaled.P * 3 * 0.5 + 1}}" class="border"></line><line ng-attr-x1="{{2400 * metadata.scale}}" ng-attr-y1="{{scaled.P * 3 * 0.25 + scaled.aisle_height + 2}}" ng-attr-x2="{{2400 * metadata.scale}}" ng-attr-y2="{{scaled.P * 3 * 0.25 + 2}}" class="border"></line></g><!-- 超过两层的楼梯--><g ng-if="metadata.options.stairs.left &amp;&amp; metadata.layer &gt; 6" ng-attr-transform="translate({{scaled.height - scaled.K}}, {{scaled.P * 3 - scaled.aisle_height}})"><line ng-attr-x1="{{-scaled.aisle_width}}" ng-attr-y1="{{scaled.P * 1.5}}" ng-attr-x2="{{-scaled.aisle_width}}" ng-attr-y2="{{scaled.layer - scaled.P * 3 + scaled.aisle_height}}" class="border"></line><g ng-repeat="layer in metadata.rooms" ng-if="!$last" ng-attr-transform="translate(0, {{$index * scaled.P * 3}})"><!-- 斜栏杆--><g><line ng-repeat="i in _.range(0, 5)" x1="0" ng-attr-y1="{{scaled.P * 1.5 + scaled.aisle_height * i / 4}}" ng-attr-x2="{{scaled.K + 4}}" ng-attr-y2="{{i * scaled.aisle_height / 4}}" class="border"></line><line ng-repeat="i in _.range(0, 5)" x1="0" ng-attr-y1="{{scaled.P * 1.5 + scaled.aisle_height * i / 4}}" ng-attr-x2="{{scaled.K + 4}}" ng-attr-y2="{{scaled.P * 3 + scaled.aisle_height * i / 4}}" class="border"></line></g><!-- 转折--><g ng-attr-transform="translate({{-scaled.aisle_width}}, {{scaled.P * 1.5}})"><line ng-repeat="i in _.range(0, 5)" x1="0" ng-attr-y1="{{scaled.aisle_height * 0.25 * i}}" ng-attr-x2="{{scaled.aisle_width}}" ng-attr-y2="{{scaled.aisle_height * 0.25 * i}}" class="border"></line><line x1="0" y1="0" x2="0" ng-attr-y2="{{scaled.aisle_height}}" class="border"></line></g></g></g><!-- 主体--><g ng-repeat="layer in metadata.rooms" ng-attr-transform="translate(0, {{scaled.P * $index * 3}})"><g ng-repeat="i in _.range(metadata.height)" ng-attr-transform="translate({{scaled.K * $index}}, 0)"><line x1="0" y1="0" x2="0" ng-attr-y2="{{scaled.P * 3}}"></line><line x1="3" y1="0" x2="3" ng-attr-y2="{{scaled.P * 3}}"></line><line x1="4" ng-attr-y1="{{scaled.P * 0.5}}" ng-attr-x2="{{scaled.K}}" ng-attr-y2="{{scaled.P * 2.5}}"></line><line x1="4" ng-attr-y1="{{scaled.P * 2.5}}" ng-attr-x2="{{scaled.K}}" ng-attr-y2="{{scaled.P * 0.5}}"></line><line ng-if="$last" ng-attr-x1="{{scaled.K}}" y1="0" ng-attr-x2="{{scaled.K}}" ng-attr-y2="{{scaled.P * 3}}"></line><line ng-if="$last" ng-attr-x1="{{scaled.K + 3}}" y1="0" ng-attr-x2="{{scaled.K + 3}}" ng-attr-y2="{{scaled.P * 3}}"></line></g><!-- 深度为3K时的房顶柱--><g ng-if="metadata.height == 3 &amp;&amp; $first"><line x1="0" y1="0" x2="0" ng-attr-y2="{{-metadata.scale * 30}}"></line><line x1="3" y1="0" x2="3" ng-attr-y2="{{-metadata.scale * 50}}"></line><line ng-attr-x1="{{scaled.K}}" y1="0" ng-attr-x2="{{scaled.K}}" ng-attr-y2="{{-metadata.scale * 330}}"></line><line ng-attr-x1="{{scaled.K + 3}}" y1="0" ng-attr-x2="{{scaled.K + 3}}" ng-attr-y2="{{-metadata.scale * 350}}"></line><line ng-attr-x1="{{scaled.K * 2}}" y1="0" ng-attr-x2="{{scaled.K * 2}}" ng-attr-y2="{{-metadata.scale * 330}}"></line><line ng-attr-x1="{{scaled.K * 2 + 3}}" y1="0" ng-attr-x2="{{scaled.K * 2 + 3}}" ng-attr-y2="{{-metadata.scale * 350}}"></line><line ng-attr-x1="{{scaled.K * 3 + 3}}" y1="0" ng-attr-x2="{{scaled.K * 3 + 3}}" ng-attr-y2="{{-metadata.scale * 30}}"></line><line ng-attr-x1="{{scaled.K * 3}}" y1="0" ng-attr-x2="{{scaled.K * 3}}" ng-attr-y2="{{-metadata.scale * 50}}"></line></g><!-- 深度为4K时的房顶柱--><g ng-if="metadata.height == 4 &amp;&amp; $first"><line x1="0" y1="0" x2="0" ng-attr-y2="{{-metadata.scale * 30}}"></line><line x1="3" y1="0" x2="3" ng-attr-y2="{{-metadata.scale * 40}}"></line><line ng-attr-x1="{{scaled.K}}" y1="0" ng-attr-x2="{{scaled.K}}" ng-attr-y2="{{-metadata.scale * 260}}"></line><line ng-attr-x1="{{scaled.K + 3}}" y1="0" ng-attr-x2="{{scaled.K + 3}}" ng-attr-y2="{{-metadata.scale * 270}}"></line><line ng-attr-x1="{{scaled.K * 2}}" y1="0" ng-attr-x2="{{scaled.K * 2}}" ng-attr-y2="{{-metadata.scale * 500}}"></line><line ng-attr-x1="{{scaled.K * 2 + 3}}" y1="0" ng-attr-x2="{{scaled.K * 2 + 3}}" ng-attr-y2="{{-metadata.scale * 500}}"></line><line ng-attr-x1="{{scaled.K * 3 + 3}}" y1="0" ng-attr-x2="{{scaled.K * 3 + 3}}" ng-attr-y2="{{-metadata.scale * 260}}"></line><line ng-attr-x1="{{scaled.K * 3}}" y1="0" ng-attr-x2="{{scaled.K * 3}}" ng-attr-y2="{{-metadata.scale * 270}}"></line><line ng-attr-x1="{{scaled.K * 4 + 3}}" y1="0" ng-attr-x2="{{scaled.K * 4 + 3}}" ng-attr-y2="{{-metadata.scale * 30}}"></line><line ng-attr-x1="{{scaled.K * 4}}" y1="0" ng-attr-x2="{{scaled.K * 4}}" ng-attr-y2="{{-metadata.scale * 40}}"></line></g></g><!-- 标尺--><g ng-attr-transform="translate(0, {{scaled.layer + 20}})"><line x1="0" y1="10" ng-attr-x2="{{scaled.height}}" y2="10"></line><line x1="-4" y1="30" ng-attr-x2="{{scaled.height + 4}}" y2="30"></line><line x1="-4" y1="0" x2="-4" y2="35"></line><line ng-attr-x1="{{scaled.height + 4}}" y1="0" ng-attr-x2="{{scaled.height + 4}}" y2="35"></line><text text-anchor="middle" ng-attr-x="{{scaled.height / 2}}" y="28">{{defines.K * metadata.height + 160}}</text><text x="-8">80</text><text ng-attr-x="{{scaled.height - 2}}">80</text><g ng-attr-transform="translate({{scaled.height}}, 0)"><line x1="4" y1="10" ng-attr-x2="{{scaled.aisle_width}}" y2="10"></line><line ng-attr-x1="{{scaled.aisle_width}}" y1="0" ng-attr-x2="{{scaled.aisle_width}}" y2="20"></line><text ng-attr-x="{{scaled.aisle_width / 2}}" y="8" text-anchor="middle">{{defines.aisle_width}}</text></g><g ng-repeat="i in _.range(metadata.height)" ng-attr-transform="translate({{scaled.K * $index}}, 0)"><line x1="0" y1="0" x2="0" y2="40"></line><line ng-if="$last" ng-attr-x1="{{scaled.K}}" y1="0" ng-attr-x2="{{scaled.K}}" y2="40"></line><text ng-attr-x="{{scaled.K / 2}}" y="8" text-anchor="middle">{{$parent.defines.K}}</text><g transform="translate(0, 50)"><circle cx="0" cy="0" r="8" fill="transparent" stroke="black"></circle><text x="-3" y="3">{{metadata.height - $index|letter}}</text></g><g ng-attr-transform="translate({{$parent.scaled.K}}, 50)" ng-if="$last"><circle cx="0" cy="0" r="8" fill="transparent" stroke="black"></circle><text x="-4" y="3">A</text></g></g></g></g></g></g></svg>